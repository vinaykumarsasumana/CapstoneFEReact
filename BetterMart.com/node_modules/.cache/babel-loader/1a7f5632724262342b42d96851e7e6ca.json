{"ast":null,"code":"var _jsxFileName = \"C:\\\\Siddharth\\\\Capstone Project\\\\FrontEnd\\\\CapstoneFEReact\\\\BetterMart.com\\\\src\\\\components\\\\Checkout\\\\Checkout.js\",\n    _s = $RefreshSig$();\n\n//////////////////////////////////////////////////////////////////////\n// Purpose: Checkout Page Component\n// Author: Siddharth Karanchery\n//////////////////////////////////////////////////////////////////////\nimport React, { useEffect, useState } from \"react\";\nimport { Container, Row, Col, Button, Card, DropdownButton, Dropdown } from \"react-bootstrap\";\nimport { CardBody, Input, InputGroup } from \"reactstrap\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport \"./Checkout.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Checkout(props) {\n  _s();\n\n  const [chName, setChname] = useState(\"\");\n  const [cardNum, setCardnum] = useState(\"\");\n  const [cardType, setCardtype] = useState(\"\");\n  const [bank, setBank] = useState(\"\");\n  const [expiry, setExpiry] = useState(\"\");\n  const [cvv, setCVV] = useState(\"\");\n  const [cartDetails, setCartDetails] = useState([]);\n  const navigate = useNavigate();\n  const userDetails = useSelector(state => state.userDetails); ///////////////////// USE EFFECT ///////////////////////////\n\n  useEffect(() => {\n    if (userDetails.Id === undefined) {\n      navigate(\"/BuyerLogin\");\n    }\n\n    axios.get(\"http://localhost:34365/api/Cart/GetCartDetailsById?BuyerId=\" + userDetails.Id.toString()).then(results => {\n      console.log(\"cart Details:\", results);\n      setCartDetails(results.data);\n    });\n  }, []); ///////////////////// HANDLERS ///////////////////////////\n\n  const changeHandler = e => {\n    switch (e.target.name) {\n      case \"chName\":\n        setChname(e.target.value);\n        break;\n\n      case \"cardNum\":\n        setCardnum(e.target.value);\n        break;\n\n      case \"cardType\":\n        setCardtype(e.target.innerText);\n        break;\n\n      case \"bank\":\n        setBank(e.target.innerText);\n        break;\n\n      case \"expiry\":\n        setExpiry(e.target.value);\n        break;\n\n      case \"cvv\":\n        setCVV(e.target.value);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const submitHandler = e => {\n    if (chName.length === 0 || cardNum.length === 0 || cardType.length === 0 || bank.length === 0 || expiry.length === 0 || cvv.length === 0) {\n      alert(\"Please Enter all card Details before placing order!\");\n    } else {\n      const [mm, yy] = expiry.split(\"/\");\n\n      if (chName.length < 3) {\n        alert(\"Please enter a valid name!\");\n        return;\n      } else if (cardNum.length < 16) {\n        alert(\"Please enter a valid card number!\");\n        return;\n      } else if (mm <= 0 || mm > 12) {\n        alert(\"Please enter a expiry Month!\");\n        return;\n      } else if (yy < parseInt(new Date().getFullYear().toString().substr(-2))) {\n        alert(\"Please enter a expiry Year!\");\n        return;\n      } else {\n        // \"buyerId\": 0,\n        // \"productId\": 0,\n        // \"productName\": \"string\",\n        // \"productPrice\": 0,\n        // \"productQuantity\": 0,\n        // \"productImage\": \"string\",\n        // \"deliveryTime\": \"string\",\n        // \"deliveryCharge\": 0,\n        alert(\"Order!\");\n        cartDetails.forEach(product => {\n          console.log(\"cartDetails.buyerId:\", cartDetails.buyerId);\n          console.log(\"cartDetails.productId:\", cartDetails.productId);\n          console.log(\"cartDetails.productPrice:\", cartDetails.productPrice);\n          console.log(\"cartDetails.productQuantity:\", cartDetails.productQuantity);\n          console.log(\"cartDetails.productImage:\", cartDetails.productImage);\n          console.log(\"cartDetails.deliveryTime:\", cartDetails.deliveryTime);\n          console.log(\"cartDetails.deliveryCharge:\", cartDetails.deliveryCharge);\n        });\n      }\n    } // console.log(\"chName:\", chName);\n    // console.log(\"cardNum:\", cardNum);\n    // console.log(\"cardType:\", cardType);\n    // console.log(\"bank:\", bank);\n    // console.log(\"expiry:\", expiry);\n    // console.log(\"cvv:\", cvv);\n\n  };\n\n  let subtotal = 0;\n  let deliveryCharges = 0;\n  cartDetails.forEach(item => {\n    subtotal += item.productQuantity * item.productPrice;\n    deliveryCharges += item.deliveryCharge;\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Checkout\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Checkout__left\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Card Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        className: \"w-75 h-100\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"p-3\",\n          children: /*#__PURE__*/_jsxDEV(CardBody, {\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              className: \"my-2\",\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                placeholder: \"Cardholder Name\",\n                value: chName,\n                name: \"chName\",\n                onChange: changeHandler\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              className: \"my-2\",\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                placeholder: \"Card Number\",\n                value: cardNum,\n                name: \"cardNum\",\n                onChange: changeHandler\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                  className: \"mb-3 w-100\",\n                  children: /*#__PURE__*/_jsxDEV(DropdownButton, {\n                    variant: \"outline-secondary\",\n                    title: \"Card Type\",\n                    value: cardType,\n                    id: \"input-group-dropdown-1\",\n                    children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                      name: \"cardType\",\n                      onClick: changeHandler,\n                      children: \"Visa\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 183,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                      name: \"cardType\",\n                      onClick: changeHandler,\n                      children: \"MasterCard\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 186,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                      name: \"cardType\",\n                      onClick: changeHandler,\n                      children: \"Maestro\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 189,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                      name: \"cardType\",\n                      onClick: changeHandler,\n                      children: \"RuPay\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 192,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                className: \"w-50\",\n                children: /*#__PURE__*/_jsxDEV(DropdownButton, {\n                  className: \"w-50 justify-content-center\",\n                  variant: \"outline-secondary\",\n                  title: \"Bank\",\n                  id: \"input-group-dropdown-1\",\n                  children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                    name: \"bank\",\n                    onClick: changeHandler,\n                    children: \"ICICI Bank\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                    name: \"bank\",\n                    onClick: changeHandler,\n                    children: \"Axis Bank\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                    name: \"bank\",\n                    onClick: changeHandler,\n                    children: \"State Bank of India\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                    name: \"bank\",\n                    onClick: changeHandler,\n                    children: \"HDFC Bank\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                    name: \"bank\",\n                    onClick: changeHandler,\n                    children: \"Standard Chartered Bank\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              className: \"my-2 align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                children: \"Expiry\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"MM/YY\",\n                  name: \"expiry\",\n                  onChange: changeHandler,\n                  maxLength: \"5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                children: \"CVV\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"***\",\n                  name: \"cvv\",\n                  onChange: changeHandler,\n                  maxLength: \"3\",\n                  type: \"text\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Checkout__right\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Total\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        className: \"d-flex flex-column \",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            children: \"Items: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            children: cartDetails.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            children: \"SubTotal: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            children: subtotal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            children: \"Delivery Charges: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            children: deliveryCharges\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"Cart__right__total align-self-center mt-2\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            children: \"Total: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            children: subtotal + deliveryCharges\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"w-50 align-self-center my-3\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"warning\",\n            onClick: submitHandler,\n            children: \"Buy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"w-75 align-self-center \",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"light\",\n            onClick: () => {\n              navigate(\"/Cart\");\n            },\n            children: \"Go back to Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Checkout, \"4Mb8mhCJdJf6FRNePA5wMfvnBoQ=\", false, function () {\n  return [useNavigate, useSelector];\n});\n\n_c = Checkout;\nexport default Checkout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"sources":["C:/Siddharth/Capstone Project/FrontEnd/CapstoneFEReact/BetterMart.com/src/components/Checkout/Checkout.js"],"names":["React","useEffect","useState","Container","Row","Col","Button","Card","DropdownButton","Dropdown","CardBody","Input","InputGroup","useNavigate","axios","useSelector","useDispatch","Checkout","props","chName","setChname","cardNum","setCardnum","cardType","setCardtype","bank","setBank","expiry","setExpiry","cvv","setCVV","cartDetails","setCartDetails","navigate","userDetails","state","Id","undefined","get","toString","then","results","console","log","data","changeHandler","e","target","name","value","innerText","submitHandler","length","alert","mm","yy","split","parseInt","Date","getFullYear","substr","forEach","product","buyerId","productId","productPrice","productQuantity","productImage","deliveryTime","deliveryCharge","subtotal","deliveryCharges","item"],"mappings":"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","sourcesContent":["//////////////////////////////////////////////////////////////////////\r\n// Purpose: Checkout Page Component\r\n// Author: Siddharth Karanchery\r\n//////////////////////////////////////////////////////////////////////\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Card,\r\n  DropdownButton,\r\n  Dropdown,\r\n} from \"react-bootstrap\";\r\nimport { CardBody, Input, InputGroup } from \"reactstrap\";\r\n\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport \"./Checkout.css\";\r\n\r\nfunction Checkout(props) {\r\n  const [chName, setChname] = useState(\"\");\r\n  const [cardNum, setCardnum] = useState(\"\");\r\n  const [cardType, setCardtype] = useState(\"\");\r\n  const [bank, setBank] = useState(\"\");\r\n  const [expiry, setExpiry] = useState(\"\");\r\n  const [cvv, setCVV] = useState(\"\");\r\n  const [cartDetails, setCartDetails] = useState([]);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const userDetails = useSelector((state) => state.userDetails);\r\n\r\n  ///////////////////// USE EFFECT ///////////////////////////\r\n  useEffect(() => {\r\n    if (userDetails.Id === undefined) {\r\n      navigate(\"/BuyerLogin\");\r\n    }\r\n    axios\r\n      .get(\r\n        \"http://localhost:34365/api/Cart/GetCartDetailsById?BuyerId=\" +\r\n          userDetails.Id.toString()\r\n      )\r\n      .then((results) => {\r\n        console.log(\"cart Details:\", results);\r\n        setCartDetails(results.data);\r\n      });\r\n  }, []);\r\n\r\n  ///////////////////// HANDLERS ///////////////////////////\r\n  const changeHandler = (e) => {\r\n    switch (e.target.name) {\r\n      case \"chName\":\r\n        setChname(e.target.value);\r\n        break;\r\n      case \"cardNum\":\r\n        setCardnum(e.target.value);\r\n        break;\r\n      case \"cardType\":\r\n        setCardtype(e.target.innerText);\r\n        break;\r\n      case \"bank\":\r\n        setBank(e.target.innerText);\r\n        break;\r\n      case \"expiry\":\r\n        setExpiry(e.target.value);\r\n        break;\r\n      case \"cvv\":\r\n        setCVV(e.target.value);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const submitHandler = (e) => {\r\n    if (\r\n      chName.length === 0 ||\r\n      cardNum.length === 0 ||\r\n      cardType.length === 0 ||\r\n      bank.length === 0 ||\r\n      expiry.length === 0 ||\r\n      cvv.length === 0\r\n    ) {\r\n      alert(\"Please Enter all card Details before placing order!\");\r\n    } else {\r\n      const [mm, yy] = expiry.split(\"/\");\r\n\r\n      if (chName.length < 3) {\r\n        alert(\"Please enter a valid name!\");\r\n        return;\r\n      } else if (cardNum.length < 16) {\r\n        alert(\"Please enter a valid card number!\");\r\n        return;\r\n      } else if (mm <= 0 || mm > 12) {\r\n        alert(\"Please enter a expiry Month!\");\r\n        return;\r\n      } else if (\r\n        yy < parseInt(new Date().getFullYear().toString().substr(-2))\r\n      ) {\r\n        alert(\"Please enter a expiry Year!\");\r\n        return;\r\n      } else {\r\n        // \"buyerId\": 0,\r\n        // \"productId\": 0,\r\n        // \"productName\": \"string\",\r\n        // \"productPrice\": 0,\r\n        // \"productQuantity\": 0,\r\n        // \"productImage\": \"string\",\r\n        // \"deliveryTime\": \"string\",\r\n        // \"deliveryCharge\": 0,\r\n        alert(\"Order!\");\r\n        cartDetails.forEach((product) => {\r\n          console.log(\"cartDetails.buyerId:\", cartDetails.buyerId);\r\n          console.log(\"cartDetails.productId:\", cartDetails.productId);\r\n          console.log(\"cartDetails.productPrice:\", cartDetails.productPrice);\r\n          console.log(\r\n            \"cartDetails.productQuantity:\",\r\n            cartDetails.productQuantity\r\n          );\r\n          console.log(\"cartDetails.productImage:\", cartDetails.productImage);\r\n          console.log(\"cartDetails.deliveryTime:\", cartDetails.deliveryTime);\r\n          console.log(\r\n            \"cartDetails.deliveryCharge:\",\r\n            cartDetails.deliveryCharge\r\n          );\r\n        });\r\n      }\r\n    }\r\n    // console.log(\"chName:\", chName);\r\n    // console.log(\"cardNum:\", cardNum);\r\n    // console.log(\"cardType:\", cardType);\r\n    // console.log(\"bank:\", bank);\r\n    // console.log(\"expiry:\", expiry);\r\n    // console.log(\"cvv:\", cvv);\r\n  };\r\n\r\n  let subtotal = 0;\r\n  let deliveryCharges = 0;\r\n\r\n  cartDetails.forEach((item) => {\r\n    subtotal += item.productQuantity * item.productPrice;\r\n    deliveryCharges += item.deliveryCharge;\r\n  });\r\n  return (\r\n    <div className=\"Checkout\">\r\n      <div className=\"Checkout__left\">\r\n        <h4>Card Details</h4>\r\n        <Container className=\"w-75 h-100\">\r\n          <Card className=\"p-3\">\r\n            <CardBody>\r\n              <Row className=\"my-2\">\r\n                <Input\r\n                  placeholder=\"Cardholder Name\"\r\n                  value={chName}\r\n                  name=\"chName\"\r\n                  onChange={changeHandler}\r\n                />\r\n              </Row>\r\n              <Row className=\"my-2\">\r\n                <Input\r\n                  placeholder=\"Card Number\"\r\n                  value={cardNum}\r\n                  name=\"cardNum\"\r\n                  onChange={changeHandler}\r\n                />\r\n              </Row>\r\n              <Row>\r\n                <Col>\r\n                  <InputGroup className=\"mb-3 w-100\">\r\n                    <DropdownButton\r\n                      variant=\"outline-secondary\"\r\n                      title=\"Card Type\"\r\n                      value={cardType}\r\n                      id=\"input-group-dropdown-1\"\r\n                    >\r\n                      <Dropdown.Item name=\"cardType\" onClick={changeHandler}>\r\n                        Visa\r\n                      </Dropdown.Item>\r\n                      <Dropdown.Item name=\"cardType\" onClick={changeHandler}>\r\n                        MasterCard\r\n                      </Dropdown.Item>\r\n                      <Dropdown.Item name=\"cardType\" onClick={changeHandler}>\r\n                        Maestro\r\n                      </Dropdown.Item>\r\n                      <Dropdown.Item name=\"cardType\" onClick={changeHandler}>\r\n                        RuPay\r\n                      </Dropdown.Item>\r\n                    </DropdownButton>\r\n                  </InputGroup>\r\n                </Col>\r\n                <Col className=\"w-50\">\r\n                  <DropdownButton\r\n                    className=\"w-50 justify-content-center\"\r\n                    variant=\"outline-secondary\"\r\n                    title=\"Bank\"\r\n                    id=\"input-group-dropdown-1\"\r\n                  >\r\n                    <Dropdown.Item name=\"bank\" onClick={changeHandler}>\r\n                      ICICI Bank\r\n                    </Dropdown.Item>\r\n                    <Dropdown.Item name=\"bank\" onClick={changeHandler}>\r\n                      Axis Bank\r\n                    </Dropdown.Item>\r\n                    <Dropdown.Item name=\"bank\" onClick={changeHandler}>\r\n                      State Bank of India\r\n                    </Dropdown.Item>\r\n                    <Dropdown.Item name=\"bank\" onClick={changeHandler}>\r\n                      HDFC Bank\r\n                    </Dropdown.Item>\r\n                    <Dropdown.Item name=\"bank\" onClick={changeHandler}>\r\n                      Standard Chartered Bank\r\n                    </Dropdown.Item>\r\n                  </DropdownButton>\r\n                </Col>\r\n              </Row>\r\n              <Row className=\"my-2 align-items-center\">\r\n                <Col>Expiry</Col>\r\n                <Col>\r\n                  <Input\r\n                    placeholder=\"MM/YY\"\r\n                    name=\"expiry\"\r\n                    onChange={changeHandler}\r\n                    maxLength=\"5\"\r\n                  />\r\n                </Col>\r\n                <Col>CVV</Col>\r\n                <Col>\r\n                  <Input\r\n                    placeholder=\"***\"\r\n                    name=\"cvv\"\r\n                    onChange={changeHandler}\r\n                    maxLength=\"3\"\r\n                    type=\"text\"\r\n                  />\r\n                </Col>\r\n              </Row>\r\n            </CardBody>\r\n          </Card>\r\n        </Container>\r\n      </div>\r\n      <div className=\"Checkout__right\">\r\n        <h4>Total</h4>\r\n        <Container className=\"d-flex flex-column \">\r\n          <Row>\r\n            <Col>Items: </Col>\r\n            <Col>{cartDetails.length}</Col>\r\n          </Row>\r\n          <Row>\r\n            <Col>SubTotal: </Col>\r\n            <Col>{subtotal}</Col>\r\n          </Row>\r\n          <Row>\r\n            <Col>Delivery Charges: </Col>\r\n            <Col>{deliveryCharges}</Col>\r\n          </Row>\r\n          <Row className=\"Cart__right__total align-self-center mt-2\">\r\n            <Col>Total: </Col>\r\n            <Col>{subtotal + deliveryCharges}</Col>\r\n          </Row>\r\n          <Row className=\"w-50 align-self-center my-3\">\r\n            <Button variant=\"warning\" onClick={submitHandler}>\r\n              Buy\r\n            </Button>\r\n          </Row>\r\n          <Row className=\"w-75 align-self-center \">\r\n            <Button\r\n              variant=\"light\"\r\n              onClick={() => {\r\n                navigate(\"/Cart\");\r\n              }}\r\n            >\r\n              Go back to Cart\r\n            </Button>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Checkout;\r\n"]},"metadata":{},"sourceType":"module"}